{\rtf1\ansi\ansicpg1252\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe1033{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}
{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}{\f36\fnil\fcharset0\fprq0{\*\panose 00000000000000000000}SunSans-Demi;}{\f37\fnil\fcharset0\fprq2{\*\panose 00000000000000000000}AndaleSansUI;}
{\f332\froman\fcharset238\fprq2 Times New Roman CE;}{\f333\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f335\froman\fcharset161\fprq2 Times New Roman Greek;}{\f336\froman\fcharset162\fprq2 Times New Roman Tur;}
{\f337\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f338\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f339\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f340\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}
{\f342\fswiss\fcharset238\fprq2 Arial CE;}{\f343\fswiss\fcharset204\fprq2 Arial Cyr;}{\f345\fswiss\fcharset161\fprq2 Arial Greek;}{\f346\fswiss\fcharset162\fprq2 Arial Tur;}{\f347\fswiss\fcharset177\fprq2 Arial (Hebrew);}
{\f348\fswiss\fcharset178\fprq2 Arial (Arabic);}{\f349\fswiss\fcharset186\fprq2 Arial Baltic;}{\f350\fswiss\fcharset163\fprq2 Arial (Vietnamese);}{\f352\fmodern\fcharset238\fprq1 Courier New CE;}{\f353\fmodern\fcharset204\fprq1 Courier New Cyr;}
{\f355\fmodern\fcharset161\fprq1 Courier New Greek;}{\f356\fmodern\fcharset162\fprq1 Courier New Tur;}{\f357\fmodern\fcharset177\fprq1 Courier New (Hebrew);}{\f358\fmodern\fcharset178\fprq1 Courier New (Arabic);}
{\f359\fmodern\fcharset186\fprq1 Courier New Baltic;}{\f360\fmodern\fcharset163\fprq1 Courier New (Vietnamese);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;
\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red127\green0\blue85;
\red63\green127\blue95;\red0\green0\blue192;\red42\green0\blue255;\red63\green127\blue127;\red127\green0\blue127;}{\stylesheet{\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 
\fs24\lang16393\langfe16393\cgrid\langnp16393\langfenp16393 \snext0 Normal;}{\*\cs10 \additive \ssemihidden Default Paragraph Font;}{\*
\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\latentstyles\lsdstimax156\lsdlockeddef0}{\*\rsidtbl \rsid3959561\rsid6377705
\rsid7747677}{\*\generator Microsoft Word 11.0.5604;}{\info{\author GoldPrabhu}{\operator GoldKing}{\creatim\yr2011\mo6\dy5\hr23\min33}{\revtim\yr2014\mo4\dy27\hr1\min44}{\version4}{\edmins242}{\nofpages14}{\nofwords2316}{\nofchars13207}
{\*\company Cognizant}{\nofcharsws15493}{\vern24689}}\widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3
\jcompress\viewkind1\viewscale100\nolnhtadjtbl\viewnobound1\rsidroot3959561 \fet0\sectd \linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3
\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}
{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain 
\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang16393\langfe16393\cgrid\langnp16393\langfenp16393 {\b\f36\fs32\ul\insrsid6377705 Possible Tags that can come inside Struts
\par }{\f36\fs32\insrsid6377705 1)<form-beans><form-bean>
\par 2)<action-mappings><action>
\par 3)<message-resources parameter="fileNameWithNoExtension">-->properties file will be called
\par 4)<plug-in className=""><set-property property="name" value="value">}{\b\f36\fs32\ul\insrsid6377705 
\par }{\f36\fs32\insrsid6377705 5)<global-forwards type="forwardAction"> <forward name="logon" path="logon.jsp" redirect="false">}{\b\f36\fs32\ul\insrsid6377705 
\par }{\f36\fs32\insrsid6377705 6)<global-exceptions><exception key="" type="java.io.Exception" path="">
\par 7)<data-sources>  
\par 8)The <controller> element allows you to configure the ActionServlet EX:bufferSize,contentType,locale,nocache,processorClass(class name of the RequestProcessor subclass to be used with this module.) 
\par <controller processorClass="SpinneretRequestProcessor
"> in spinneret override processPopulate method of RequestProcessor class and get all formBean data and set it on spinneretForm. and do the reverse on response.How it is used: AJAX passes only specific widget. But if we use actionform we have to set and g
et all the form widgets. Instead spinneretForm get and set only required widget using RequestProcessor processPopulate.
\par 
\par }{\b\f36\fs32\ul\insrsid6377705 
\par Question: What are difference between ActionErrors and ActionMessage?
\par }{\b\f36\fs32\insrsid6377705 ActionMessage: A class that encapsulates messages(MessageResource.properties). }{\b\f36\fs32\ul\insrsid6377705 
\par }{\b\f36\fs32\insrsid6377705 ActionErrors: A class that encapsulates the error messages
\par }{\b\f2\fs20\cf17\insrsid6377705 public}{\f2\fs20\cf1\insrsid6377705  ActionErrors validate(ActionMapping mapping,}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab \tab HttpServletRequest request) \{}{\f2\fs20\insrsid6377705 
\par 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab }{\f2\fs20\cf18\insrsid6377705 // Check for mandatory data}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab ActionErrors errors = }{\b\f2\fs20\cf17\insrsid6377705 new}{\f2\fs20\cf1\insrsid6377705  ActionErrors();}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab }{\b\f2\fs20\cf17\insrsid6377705 if}{\f2\fs20\cf1\insrsid6377705  (}{\f2\fs20\cf19\insrsid6377705 lastName}{\f2\fs20\cf1\insrsid6377705  == }{\b\f2\fs20\cf17\insrsid6377705 null}{\f2\fs20\cf1\insrsid6377705  || }{
\f2\fs20\cf19\insrsid6377705 lastName}{\f2\fs20\cf1\insrsid6377705 .equals(}{\f2\fs20\cf20\insrsid6377705 ""}{\f2\fs20\cf1\insrsid6377705 )) \{}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab \tab errors.add(}{\f2\fs20\cf20\insrsid6377705 "Last Name"}{\f2\fs20\cf1\insrsid6377705 , }{\b\f2\fs20\cf17\insrsid6377705 new}{\f2\fs20\cf1\insrsid6377705  ActionMessage(}{\f2\fs20\cf20\insrsid6377705 
"error.lastName"}{\f2\fs20\cf1\insrsid6377705 ));}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \tab \}
\par }{\b\f2\fs20\cf17\highlight16\insrsid6377705 \tab return}{\f2\fs20\cf1\highlight16\insrsid6377705  errors;}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \tab \}}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705 \}}{\b\f36\fs32\insrsid6377705 
\par 
\par }{\b\f36\fs32\ul\insrsid6377705 Is it Possible to have Action Class alone without Form Bean Class?
\par }{\f36\fs32\insrsid6377705 No. Runtime Exception
\par }{\f2\fs20\ul\cf9\insrsid6377705 javax.servlet.jsp.JspException}{\f2\fs20\cf1\insrsid6377705 : Form bean not specified on mapping for action: "frontPage.do"}{\b\f36\fs32\ul\insrsid6377705 
\par Question: What are the difference between <bean:message> and <bean:write>?
\par }{\b\f36\fs32\insrsid6377705 Answer: <bean:message>: This tag is used to output locale-specific text (from the properties files) from a MessageResources bundle.
\par 
\par <bean:write>: This tag is used to output property values from a bean. <bean:write> is a commonly used tag which enables the programmers to easily present the data.
\par }{\b\f36\fs32\ul\insrsid6377705 
\par Question: Can I setup Apache Struts to use multiple configuration files?
\par }{\b\f36\fs32\insrsid6377705 Answer: Yes Struts can use multiple configuration files. Here is the configuration example:
\par <servlet>
\par         <servlet-name>banking</servlet-name>
\par         <servlet-class>org.apache.struts.action.ActionServlet
\par         </servlet-class>
\par         <init-param>
\par         <param-name>config</param-name>
\par         <param-value>/WEB-INF/struts-config.xml,
\par                 /WEB-INF/struts-authentication.xml,
\par                 /WEB-INF/struts-help.xml
\par            </param-value>
\par     </init-param>
\par     <load-on-startup>1</load-on-startup>
\par </servlet>}{\f36\fs32\ul\insrsid6377705 
\par Question: What are the various Struts tag libraries?}{\f36\fs32\insrsid6377705 
\par * Bean tag library - Tags for accessing JavaBeans and their properties.
\par * HTML tag library - Tags to output standard HTML, including forms, text boxes, checkboxes, radio buttons etc..
\par * Logic tag library - Tags for generating conditional output, iteration capabilities and flow management
\par * Tiles or Template tag library - For the application using tiles
\par 
\par }{\b\f36\fs32\ul\insrsid6377705 6 types of forms }{\f36\fs32\insrsid6377705 
\par 1).ActionForm
\par 2).DynaActionForm
\par DynaActionForm eliminates the need of FormBean class and now the form bean definition can be written into the struts-config.xml file.
\par <form-bean name="DynaAddressForm"   
\par          type="org.apache.struts.action.DynaActionForm">
\par          <form-property name="name" type="java.lang.String"/>
\par          <form-property name="address" type="java.lang.String"/>
\par          <form-property name="email" type="java.lang.String" />
\par </form-bean>
\par }{\b\f36\fs32\insrsid6377705 \tab }{\b\f36\fs32\ul\insrsid6377705 Inside Action Class
\par }{\f36\fs32\insrsid6377705 \tab DynaActionForm addressForm = (DynaActionForm)form;
\par \tab (String)addressForm.get("name"));
\par 
\par DynaActionForm--> No form bean is created. No Validations are done here. Form bean properties are specified in struts-config.xml file
\par 
\par 3).ValidatorForm}{\f36\fs32\insrsid3959561 -> NORMAL FORMBEAN EXTENDS VALIDATORFORM}{\f36\fs32\insrsid6377705 
\par It has the capacity to validate fields of a form using validation rules which are defined in an XML file. 
\par \tab public class ExampleForm extends ValidatorForm
\par 4).ValidatorActionForm
\par }\pard \qc \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0\pararsid6377705 {\f36\fs32\insrsid6377705 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f36\fs32\insrsid6377705 ValidatorActionForm--> in validation.xml url is used instead of form name everything is same as validatorForm
\par 
\par 5
).DynaValidatorForm-> validation done using validation.xml. There is no form bean. Form bean is defined in struts-config(form bean) itself. Additionally action tag has an attribute called "attribute" which defines dummy bean name referenced in struts-conf
ig form bean mapping
\par 6).DynaValidatorActionForm
\par 
\par DynaValidatorForm--> Similar to the ValidatorForm but form bean is not created and form bean properties are specified in the struts config.xml file. Validations here are done according to the to the formbean 
name unlike in DynaValidatorActionForm where validations are done according to the Action class name.
\par 
\par In shortcut to remember these:
\par 
\par Dyna--> formbean is not created and form bean properties are specified in struts config.xml(form bean) file
\par Validator--> performs validations on formbean name
\par Validator and Action words together--> Validations are performed based on the Action class name and not according to the form bean name.
\par 
\par 
\par 
\par }{\b\f36\fs32\ul\insrsid6377705 Local Forward}{\f36\fs32\insrsid6377705 : Normal forward which occurs in each action class.mapping.findForward("success")
\par }{\b\f36\fs32\ul\insrsid6377705 Global Forward}{\f36\fs32\insrsid6377705 :  example like for HOME PAGE, GLOBAL ERROR
\par <struts-config>
\par \tab <global-forwards>
\par \tab </global-forwards>
\par </struts-config>
\par 
\par }{\b\f36\fs32\ul\insrsid6377705 forward redirect:}{\f36\fs32\insrsid6377705 <forward name= path= redirect="true">--> goto client and one more trip to server
\par 
\par }{\f36\fs32\ul\insrsid6377705 8 type of action in struts
\par }{\f36\fs32\insrsid6377705 1) Action
\par 2) DispatchAction(based on the input request key value pair, check for key matches in xml, value matches in action class)
\par }{\f2\fs20\cf10\insrsid6377705 <}{\f2\fs20\cf21\highlight16\insrsid6377705 action}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 path}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "/multiClr"}{\f2\fs20\insrsid6377705  }{
\f2\fs20\cf22\insrsid6377705 type}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "dispatchsubmit.SubmitDispatchAction"}{\f2\fs20\insrsid6377705 
\par \tab \tab \tab }{\f2\fs20\cf22\insrsid6377705 parameter}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "dispatch"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 name}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 
"multiColorForm"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 scope}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "request"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 validate}{\f2\fs20\cf1\insrsid6377705 =}{
\i\f2\fs20\cf20\insrsid6377705 "true"}{\f2\fs20\insrsid6377705 
\par \tab \tab \tab }{\f2\fs20\cf22\insrsid6377705 input}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "/multiColor.jsp"}{\f2\fs20\cf10\insrsid6377705 >}{\f36\fs32\insrsid6377705 
\par incoming request -->dispatch=red
\par 
\par 
\par 3) MappingDispatchAction(xml matching method will be present in action class, based on the input request key value pair, key must be "parameter" and value must match with xml.)
\par }{\f2\fs20\cf10\insrsid6377705 <}{\f2\fs20\cf21\highlight16\insrsid6377705 action}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 path}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "/multiClr"}{\f2\fs20\insrsid6377705  }{
\f2\fs20\cf22\insrsid6377705 type}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "dispatchsubmit.SubmitDispatchAction"}{\f2\fs20\insrsid6377705 
\par \tab \tab \tab }{\f2\fs20\cf22\insrsid6377705 parameter}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "red"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 name}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 
"multiColorForm"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 scope}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "request"}{\f2\fs20\insrsid6377705  }{\f2\fs20\cf22\insrsid6377705 validate}{\f2\fs20\cf1\insrsid6377705 =}{
\i\f2\fs20\cf20\insrsid6377705 "true"}{\f2\fs20\insrsid6377705 
\par \tab \tab \tab }{\f2\fs20\cf22\insrsid6377705 input}{\f2\fs20\cf1\insrsid6377705 =}{\i\f2\fs20\cf20\insrsid6377705 "/multiColor.jsp"}{\f2\fs20\cf10\insrsid6377705 >}{\f36\fs32\insrsid6377705 
\par incoming request -->parameter=red
\par 
\par 
\par 4) LookupDispatchAction(similar to dispatch action, but method selected based on resource bundle)
\par }{\b\f2\fs20\cf17\insrsid6377705 protected}{\f2\fs20\cf1\insrsid6377705  }{\f2\fs20\ul\cf1\insrsid6377705 Map}{\f2\fs20\cf1\insrsid6377705  getKeyMethodMap()\{}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705         }{\f2\fs20\ul\cf1\insrsid6377705 Map}{\f2\fs20\cf1\insrsid6377705  map =  }{\b\f2\fs20\cf17\insrsid6377705 new}{\f2\fs20\cf1\insrsid6377705  }{\f2\fs20\ul\cf1\insrsid6377705 HashMap}{\f2\fs20\cf1\insrsid6377705 ();}{
\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705     }{\f2\fs20\ul\cf1\insrsid6377705 map.put(}{\f2\fs20\ul\cf20\insrsid6377705 "lookupdispatch.red"}{\f2\fs20\ul\cf1\insrsid6377705 ,}{\f2\fs20\ul\cf20\insrsid6377705 "red"}{\f2\fs20\ul\cf1\insrsid6377705 )}{
\f2\fs20\cf1\insrsid6377705 ;}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705     }{\f2\fs20\cf18\insrsid6377705 //map.put("}{\f2\fs20\ul\cf18\insrsid6377705 lookupdispatch}{\f2\fs20\cf18\insrsid6377705 .blue","blue");}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705     }{\b\f2\fs20\cf17\insrsid6377705 return}{\f2\fs20\cf1\insrsid6377705  map;}{\f2\fs20\insrsid6377705 
\par }{\f2\fs20\cf1\insrsid6377705     \}}{\f36\fs32\insrsid6377705 
\par 5) ForwardAction
\par \tab }{\cf9\insrsid6377705 <action\line path="/success"\line }{\b\cf2\insrsid6377705 type="org.apache.struts.actions.ForwardAction"\line parameter="/pages/Success.jsp"}{\cf9\insrsid6377705 \line input="/pages/ForwardAction.jsp"\line scope="request"\line 
validate="false">\line </action>
\par 
\par }{\b\cf1\insrsid6377705 We can use the below code for achieving the above but the below is not MVC. So we recommend the above.
\par }{\cf2\insrsid6377705 
\par <html:link page="/pages/ForwardAction.jsp">Struts Forward Action</html:link>}{\cf9\insrsid6377705 
\par }{\f36\fs32\insrsid6377705 
\par 6) IncludeAction
\par 7) switchAction (It provides a mechanism to switch between modules and  then forwards control to a URI (specified in a number of possible ways) within the new module.)
\par 8) LocaleAction
\par 
\par forwardAction:Linking directly a JSP  to an another JSP, violates the MVC principles. So forwardAction
\par <action
\par path="/success"
\par type="org.apache.struts.actions.ForwardAction"
\par parameter="/pages/Success.jsp"
\par input="/pages/ForwardAction.jsp"
\par scope="request"
\par validate="false">
\par </action>
\par 
\par }{\f36\fs32\ul\insrsid6377705 Validator Framework
\par }{\f36\fs32\insrsid6377705 Struts Framework provides the functionalit
y to validate the form data. It can be used to validate the data on the users browser as well as on the server side.Struts Framework emits the java scripts and it can be used to validate the form data on the client browser.Server side validation of the fo
rm can be accomplished by sub classing your }{\f36\fs32\ul\insrsid6377705 From Bean with DynaValidatorForm class}{\f36\fs32\insrsid6377705 
.The Validator framework comes integrated with the Struts Framework and can be used without doing any extra settings.
\par }{\f36\fs32\ul\insrsid6377705 Client Side validation througn validator framework happens when the following tag presents on jsp}{\f36\fs32\insrsid6377705 
\par <html:javascript formName="AddressForm"/>-->is used to plug-in the Validator JavaScript
\par 
\par 2 <%@ taglib uri=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 /WEB-INF/struts-bean.tld}{\f37\fs32\insrsid6377705 " }{\f36\fs32\insrsid6377705 prefix=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 bean}{\f37\fs32\insrsid6377705 " }{
\f36\fs32\insrsid6377705 %>
\par 3 <%@ taglib uri=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 /WEB-INF/struts-html.tld}{\f37\fs32\insrsid6377705 " }{\f36\fs32\insrsid6377705 prefix=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 html}{\f37\fs32\insrsid6377705 " }{
\f36\fs32\insrsid6377705 %>
\par 4 <%@ taglib uri=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 /WEB-INF/struts-logic.tld}{\f37\fs32\insrsid6377705 " }{\f36\fs32\insrsid6377705 prefix=}{\f37\fs32\insrsid6377705 "}{\f36\fs32\insrsid6377705 logic}{\f37\fs32\insrsid6377705 " }{
\f36\fs32\insrsid6377705 %>}{\f36\fs36\cf1\insrsid6377705 
\par 
\par  To display the error on the jsp page <html:errors/> tag is used. The <html:errors/> tag displays all the errors in one go
\par 
\par Struts latest: Struts 2.1.6
\par 
\par Form Beans: There will be a form bean each jsp or html file. They are java beans. Once the actionservlet calls setters on the bean, it will then call beans validate() method.
\par 
\par 1 <!DOCTYPE web-app
\par 2 PUBLIC -//Sun Microsystems, Inc.//DTD Web }{\f37\fs36\cf1\insrsid6377705 " }{\f36\fs36\cf1\insrsid6377705 Application 2.2//EN}{\f37\fs36\cf1\insrsid6377705 "
\par }{\f36\fs36\cf1\insrsid6377705 3 }{\f37\fs36\cf1\insrsid6377705 "}{\f36\fs36\cf1\insrsid6377705 http://java.sun.com/j2ee/dtds/web-app_2_2.dtd}{\f37\fs36\cf1\insrsid6377705 "}{\f36\fs36\cf1\insrsid6377705 >
\par 4
\par 5 <web-app>
\par 6 <display-name>Advanced J2EE Programming Class Sample App</display-name>
\par 7
\par 8 <!-- Standard Action Servlet Configuration (with debuggi ng) -->
\par 9 <servlet>
\par 10 }{\f36\fs36\cf6\insrsid6377705 <servlet-name>action</servlet-name>
\par }{\f36\fs36\cf1\insrsid6377705 11 }{\f36\fs36\cf6\insrsid6377705 <servlet-class>
\par }{\f36\fs36\cf1\insrsid6377705 12 }{\f36\fs36\cf6\insrsid6377705 org.a pache.struts.action.ActionServlet
\par }{\f36\fs36\cf1\insrsid6377705 13 }{\f36\fs36\cf6\insrsid6377705 </serv let-class>
\par }{\f36\fs36\cf1\insrsid6377705 14 }{\f36\fs36\cf2\insrsid6377705 <init-param>
\par }{\f36\fs36\cf1\insrsid6377705 15 }{\f36\fs36\cf2\insrsid6377705 <param-name>application</param-name>
\par }{\f36\fs36\cf1\insrsid6377705 16 }{\f36\fs36\cf2\insrsid6377705 <param-value>ApplicationResources</param-value>
\par }{\f36\fs36\cf1\insrsid6377705 17 }{\f36\fs36\cf2\insrsid6377705 </init-param>
\par }{\f36\fs36\cf1\insrsid6377705 18 }{\f36\fs36\cf2\insrsid6377705 <init-param>
\par }{\f36\fs36\cf1\insrsid6377705 19 }{\f36\fs36\cf2\insrsid6377705 <param-name>config</param-name>
\par }{\f36\fs36\cf1\insrsid6377705 20 }{\f36\fs36\cf2\insrsid6377705 <param-value>/WEB-INF/struts-con fig.xml</param-value>
\par }{\f36\fs36\cf1\insrsid6377705 21 }{\f36\fs36\cf2\insrsid6377705 </init-param>
\par }{\f36\fs36\cf1\insrsid6377705 22 </servlet>
\par 1 <!-- Standard Action Servlet Mapping -->
\par 2 <servlet-mapping>
\par 3 <servlet-name>action</servlet-name>
\par 4 <url-pattern>*.do</url-pattern>
\par 5 </serv let-mapping>
\par 6
\par 7 <!-- Struts Tag L ibrary Desc riptors -->
\par 8 }{\f36\fs36\cf2\insrsid6377705 <taglib>
\par }{\f36\fs36\cf1\insrsid6377705 9 }{\f36\fs36\cf2\insrsid6377705 <taglib-uri>/WEB-INF/struts-bean.tld</taglib-uri>
\par }{\f36\fs36\cf1\insrsid6377705 10 }{\f36\fs36\cf2\insrsid6377705 <taglib-location>/WEB-INF/struts-bean.tld</taglib-location>
\par }{\f36\fs36\cf1\insrsid6377705 11 }{\f36\fs36\cf2\insrsid6377705 </taglib>
\par }{\f36\fs36\cf1\insrsid6377705 12 }{\f36\fs36\cf2\insrsid6377705 <taglib>
\par }{\f36\fs36\cf1\insrsid6377705 13 }{\f36\fs36\cf2\insrsid6377705 <taglib-uri>/WEB-INF/struts-html.tld</taglib-uri>
\par }{\f36\fs36\cf1\insrsid6377705 14 }{\f36\fs36\cf2\insrsid6377705 <taglib-location>/WEB-INF/struts-html.tld</taglib-location>
\par }{\f36\fs36\cf1\insrsid6377705 15 }{\f36\fs36\cf2\insrsid6377705 </taglib>
\par }{\f36\fs36\cf1\insrsid6377705 16 }{\f36\fs36\cf2\insrsid6377705 <taglib>
\par }{\f36\fs36\cf1\insrsid6377705 17 }{\f36\fs36\cf2\insrsid6377705 <taglib-uri>/WEB-INF/struts-logic .tld</taglib-uri>
\par }{\f36\fs36\cf1\insrsid6377705 18 }{\f36\fs36\cf2\insrsid6377705 <taglib-location>/WEB-INF/struts-logic .tld</taglib-location>
\par }{\f36\fs36\cf1\insrsid6377705 19 }{\f36\fs36\cf2\insrsid6377705 </taglib>
\par }{\f36\fs36\cf1\insrsid6377705 20
\par 21 </web-app>
\par 22
\par 
\par 
\par }{\f36\fs44\cf1\insrsid6377705 <struts-config>
\par 8
\par 9 }{\f36\fs44\cf6\insrsid6377705 <!-- ========== Form Bean Definitions ================= -->
\par }{\f36\fs44\cf1\insrsid6377705 10 }{\f36\fs44\cf6\insrsid6377705 <form-beans>
\par }{\f36\fs44\cf1\insrsid6377705 11
\par 12 }{\f36\fs44\cf6\insrsid6377705 <form-bean name=}{\f37\fs44\cf6\insrsid6377705 "}{\f36\fs44\cf6\insrsid6377705 submitForm}{\f37\fs44\cf6\insrsid6377705 "
\par }{\f36\fs44\cf1\insrsid6377705 13 }{\f36\fs44\cf6\insrsid6377705 type=}{\f37\fs44\cf6\insrsid6377705 "}{\f36\fs44\cf6\insrsid6377705 submit.SubmitForm}{\f37\fs44\cf6\insrsid6377705 "}{\f36\fs44\cf6\insrsid6377705 />
\par }{\f36\fs44\cf1\insrsid6377705 14
\par 15 }{\f36\fs44\cf6\insrsid6377705 </form-beans>
\par }{\f36\fs40\cf1\insrsid6377705 <!-- ========== Action Mapping Definitions ============ -->
\par 3 }{\f36\fs40\cf6\insrsid6377705 <action-mappings>
\par }{\f36\fs40\cf1\insrsid6377705 4
\par 5 }{\f36\fs40\cf6\insrsid6377705 <action path=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 /submit}{\f37\fs40\cf6\insrsid6377705 "
\par }{\f36\fs40\cf1\insrsid6377705 6 }{\f36\fs40\cf6\insrsid6377705 type=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 submit.SubmitAction}{\f37\fs40\cf6\insrsid6377705 "
\par }{\f36\fs40\cf1\insrsid6377705 7 }{\f36\fs40\cf6\insrsid6377705 name=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 submitForm}{\f37\fs40\cf6\insrsid6377705 "
\par }{\f36\fs40\cf1\insrsid6377705 8 }{\f36\fs40\cf6\insrsid6377705 input=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 /submit.jsp}{\f37\fs40\cf6\insrsid6377705 "
\par }{\f36\fs40\cf1\insrsid6377705 9 }{\f36\fs40\cf6\insrsid6377705 scope=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 request}{\f37\fs40\cf6\insrsid6377705 "
\par }{\f36\fs40\cf1\insrsid6377705 10 }{\f36\fs40\cf6\insrsid6377705 validate=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 true}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 >
\par }{\f36\fs40\cf1\insrsid6377705 11 }{\f36\fs40\cf6\insrsid6377705 <forward name=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 success}{\f37\fs40\cf6\insrsid6377705 " }{\f36\fs40\cf6\insrsid6377705 path=}{\f37\fs40\cf6\insrsid6377705 "}{
\f36\fs40\cf6\insrsid6377705 /submit.jsp}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 />
\par }{\f36\fs40\cf1\insrsid6377705 12 }{\f36\fs40\cf6\insrsid6377705 <forward name=}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 failure}{\f37\fs40\cf6\insrsid6377705 " }{\f36\fs40\cf6\insrsid6377705 path=}{\f37\fs40\cf6\insrsid6377705 "}{
\f36\fs40\cf6\insrsid6377705 /submit.jsp}{\f37\fs40\cf6\insrsid6377705 "}{\f36\fs40\cf6\insrsid6377705 />
\par }{\f36\fs40\cf1\insrsid6377705 13 }{\f36\fs40\cf6\insrsid6377705 </action>
\par }{\f36\fs40\cf1\insrsid6377705 14
\par 15 }{\f36\fs40\cf6\insrsid6377705 </action-mappings>
\par }{\f36\fs40\cf1\insrsid6377705 16
\par 17 </struts-config>
\par 
\par 
\par }\pard \ql \li0\ri0\sb100\sa100\nowidctlpar\faauto\rin0\lin0\itap0 {\b\insrsid6377705 validation.xml }{\insrsid6377705 
\par <form name="datasrcForm">\line <field property="dsrcName" depends="required">\line <arg0 key="page.datasource.title"/>\line </field>\line </form> 
\par }{\b\insrsid6377705 validator-rules 
\par }{\insrsid6377705 <validator name="r
equired" classname="com.marimba.webapps.struts.validation.FormValidator" method="required" msg="errors.required" methodParams="java.lang.Object,org.apache.commons.validator.ValidatorAction,org.apache.commons.validator.Field,org.apache.struts.action.Action
Errors,javax.servlet.http.HttpServletRequest,javax.servlet.ServletContext">\line </validator> 
\par }{\b\insrsid6377705 Custom Validators in STRUTS
\par }{\insrsid6377705 To accomplish this edit the validator-rules.xml and give validator name--> userdefined class and javascript what to happen
\par }{\b\insrsid6377705 struts-config.xml 
\par }{\insrsid6377705 <action path="/query/set_col_schedule"\line type="com.marimba.webapps.invmanager.web.action.ColScheduleAction"\line name="colScheduleForm"\line scope="request"\line validate="true"\line input="/query/set_col_schedule.jsp">\line 
<forward name="view" path="/query/set_col_schedule.jsp" />\line <forward name="collections" path="/query/collections.do" />\line </action> 
\par <controller processorClass="com.marimba.webapps.struts.action.CMSRequestProcessor" debug="0" contentType="text/html;charset=UTF-8"/>\line <message-resources parameter="ApplicationResourc
es" factory="com.marimba.webapps.tools.util.CMSMessageResourcesFactory" key="org.apache.struts.action.MESSAGE"/>\line <plug-in className="org.apache.struts.validator.ValidatorPlugIn">\line 
<set-property property="pathnames" value="/WEB-INF/validator-rules.xml, /WEB-INF/validation.xml"/>\line </plug-in>
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f36\fs44\cf6\insrsid6377705 
\par }{\b\f1\fs20\ul\insrsid6377705 struts tiles  vs  jsp include
\par }{\f1\fs20\insrsid6377705 
\par }{\b\f1\fs20\ul\insrsid6377705 Tiles scenario}{\f1\fs20\insrsid6377705 
\par \tab one.jsp--> header, body, footer
\par \tab two.jsp--> header, body, footer
\par The above page can be done in jsp include. But we design the page and include jsp wherever we want.
\par 
\par In tiles (header, body, footer) are constructed as seperated page and in placed in order inside tileDef.xml. 
\par One Advantage of this concept is tiles can be inherited
\par }{\b\fs23\ul\cf1\insrsid6377705 struts-config.xml }{\f1\fs20\insrsid6377705 
\par }\trowd \irow0\irowband0\lastrow \ts11\trgaph108\trrh1675\trleft72\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrs\brdrw10\brdrcf1 \clbrdrl\brdrs\brdrw10\brdrcf1 \clbrdrb\brdrs\brdrw10\brdrcf1 \clbrdrr\brdrs\brdrw10\brdrcf1 
\cltxlrtb\clftsWidth3\clwWidth8232\clshdrawnil \cellx8304\pard \ql \li0\ri0\nowidctlpar\intbl\faauto\rin0\lin0 {\fs23\cf1\insrsid6377705 <struts-config> 
\par <action-mappings> 
\par <action 
\par        path="/first" 
\par        forward="/FirstPage" />----> loaded jsps are header,firstBody and footer 
\par <action 
\par        path="/second" 
\par        forward="/SecondPage" /> ----> loaded jsps are header,secondBody and footer 
\par </action-mappings> \cell }\pard \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 {\fs23\cf1\insrsid6377705 \trowd \irow0\irowband0\lastrow \ts11\trgaph108\trrh1675\trleft72\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 
\clvertalt\clbrdrt\brdrs\brdrw10\brdrcf1 \clbrdrl\brdrs\brdrw10\brdrcf1 \clbrdrb\brdrs\brdrw10\brdrcf1 \clbrdrr\brdrs\brdrw10\brdrcf1 \cltxlrtb\clftsWidth3\clwWidth8232\clshdrawnil \cellx8304\row }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {
\f1\fs20\insrsid6377705 
\par }{\b\fs23\ul\cf1\insrsid6377705 tileDef.xml }{\ul\insrsid6377705 
\par }\trowd \irow0\irowband0\lastrow \ts11\trgaph108\trrh1813\trleft72\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrs\brdrw10\brdrcf1 \clbrdrl\brdrs\brdrw10\brdrcf1 \clbrdrb\brdrs\brdrw10\brdrcf1 \clbrdrr\brdrs\brdrw10\brdrcf1 
\cltxlrtb\clftsWidth3\clwWidth6808\clshdrawnil \cellx6880\pard \ql \li0\ri0\nowidctlpar\intbl\faauto\rin0\lin0 {\fs23\cf1\insrsid6377705 <?xml version="1.0" encoding="ISO-8859-1"?> 
\par <component-definitions> 
\par        <definition name="BasicLayout" page="/jsp/Layout.jsp"> 
\par              <put name="header" value="/jsp/header.jsp" /> 
\par              <put name="footer" value="/jsp/footer.jsp" /> 
\par        </definition> 
\par        <definition name="FirstPage" }{\b\fs23\ul\cf1\insrsid6377705\charrsid7747677 extends}{\fs23\cf1\insrsid6377705 ="BasicLayout"> 
\par              <put name="body" value="/firstBody.jsp"/> 
\par        </definition> 
\par        <definition name="SecondPage" extends="BasicLayout"> 
\par              <put name="body" value="/secondBody.jsp"/> 
\par        </definition> 
\par </component-definitions> \cell }\pard \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 {\fs23\cf1\insrsid6377705 \trowd \irow0\irowband0\lastrow 
\ts11\trgaph108\trrh1813\trleft72\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrs\brdrw10\brdrcf1 \clbrdrl\brdrs\brdrw10\brdrcf1 \clbrdrb\brdrs\brdrw10\brdrcf1 \clbrdrr\brdrs\brdrw10\brdrcf1 
\cltxlrtb\clftsWidth3\clwWidth6808\clshdrawnil \cellx6880\row }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f1\fs20\insrsid6377705 
\par 
\par 
\par }{\b\f1\fs20\ul\insrsid6377705 EXception Handling in struts
\par }{\f1\fs20\insrsid6377705 
\par }{\b\f1\fs20\ul\insrsid6377705 Declarative Exception Handling in Struts
\par }{\f1\fs20\insrsid6377705 
\par <struts-config>
\par 
\par  <action-mappings>   
\par 
\par   <action
\par 
\par     path="/submitCustomerForm"
\par 
\par     type="mybank.example.CustomerAction"
\par 
\par     name="customerForm"
\par 
\par     scope="request"
\par 
\par     input="/CustomerDetails.jsp">
\par 
\par  
\par 
\par     <exception
\par 
\par       key="database.error.duplicate"
\par 
\par       path="/UserExists.jsp"
\par 
\par       type="mybank.account.DuplicateUserException"/>
\par 
\par  
\par 
\par     <exception
\par 
\par       key="rmi.error"
\par 
\par       type="java.rmi.RemoteException"
\par 
\par       path="/rmierror.jsp"/>
\par 
\par  
\par 
\par   </action>
\par 
\par  </action-mappings>
\par 
\par </struts-config>
\par 
\par  
\par 
\par Listing 18.5 shows the Struts Config file with declarative exception handling for the two exceptions \endash 
 DuplicateUserexception and RemoteException. For each exception, an <exception> element is defined in the action mapping. The path attribute in the <exception> e
lement specifies the page shown to the user upon that exception. For instance, if a DuplicateUserException is thrown when submitting the modified user profile, the controller will forward control to the UserExists.jsp page. The key attribute is used to re
t
rieve the error message template from the associated resource bundle. Since the <exception> is local to the action mapping, it applies only for that action invocation. As you might have already notice the J2EE and Struts way of declaratively handling exce
ptions are complementary to one another.
\par 
\par In the Listing 18.5, the declarative exception handling was local to the CustomerAction. You can add global declarative exception handling too. For instance, if you want to handle the RemoteException in the same way
 across the board, use the following approach:
\par 
\par <struts-config>
\par 
\par    <global-exceptions>
\par 
\par     <exception
\par 
\par       key="rmi.error"
\par 
\par       type="java.rmi.RemoteException"
\par 
\par       path="/rmierror.jsp"/>     
\par 
\par    </global-exceptions>
\par 
\par </struts-config>
\par 
\par Before forwarding to the page indicated in the <exception> element, Struts sets the exception as a request attribute with name org.apache.struts.action.EXCEPTION. (This is the value of Globals.EXCEPTION_KEY. Globals is a Java class in org.apache.struts pa
ckage). The exception can be retrieved in the error page by using the method:  request.getAttribute(Globals.EXCEPTION_KEY). 
\par }}